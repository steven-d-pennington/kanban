@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  /* Base typography and color defaults */
  html {
    @apply antialiased;
  }

  body {
    @apply bg-white text-gray-900;
    line-height: 1.6;
  }

  /* Headings */
  h1, h2, h3, h4, h5, h6 {
    @apply text-gray-900 font-semibold;
  }

  h1 {
    @apply text-3xl md:text-4xl;
  }

  h2 {
    @apply text-2xl md:text-3xl;
  }

  h3 {
    @apply text-xl md:text-2xl;
  }

  h4 {
    @apply text-lg md:text-xl;
  }

  h5 {
    @apply text-base md:text-lg;
  }

  h6 {
    @apply text-sm md:text-base;
  }

  /* Links */
  a {
    @apply text-blue-700 underline decoration-blue-700/30 hover:decoration-blue-700 transition-colors duration-200;
  }

  a:focus-visible {
    @apply outline-2 outline-offset-2 outline-blue-600 rounded-sm;
  }

  /* Form elements with proper contrast */
  input[type='text'],
  input[type='email'],
  input[type='password'],
  input[type='number'],
  input[type='tel'],
  input[type='url'],
  input[type='search'],
  input[type='date'],
  input[type='datetime-local'],
  input[type='month'],
  input[type='time'],
  input[type='week'],
  textarea,
  select {
    @apply bg-white border border-gray-400 text-gray-900 placeholder-gray-600 rounded-md px-3 py-2 text-base;
    @apply focus:border-blue-600 focus:ring-2 focus:ring-blue-600/20 focus:outline-none;
    @apply disabled:bg-gray-100 disabled:text-gray-500 disabled:border-gray-300 disabled:cursor-not-allowed;
  }

  /* Ensure proper contrast for form labels */
  label {
    @apply text-gray-900 font-medium;
  }

  /* Button base styles */
  button {
    @apply font-medium rounded-md transition-colors duration-200 focus:outline-none;
  }

  button:focus-visible {
    @apply ring-2 ring-offset-2;
  }

  /* Checkbox and radio inputs */
  input[type='checkbox'],
  input[type='radio'] {
    @apply border-gray-400 text-blue-600 focus:ring-blue-600/20 focus:ring-2;
  }

  /* Tables */
  table {
    @apply border-collapse;
  }

  th {
    @apply text-left font-semibold text-gray-900 border-b border-gray-300 pb-2;
  }

  td {
    @apply text-gray-900 border-b border-gray-200 py-2;
  }

  /* Code elements */
  code {
    @apply bg-gray-100 text-gray-900 px-1 py-0.5 rounded text-sm font-mono;
  }

  pre {
    @apply bg-gray-100 text-gray-900 p-4 rounded-md overflow-x-auto;
  }

  pre code {
    @apply bg-transparent p-0;
  }

  /* Blockquotes */
  blockquote {
    @apply border-l-4 border-gray-300 pl-4 text-gray-700 italic;
  }

  /* HR elements */
  hr {
    @apply border-gray-300;
  }

  /* Selection highlight */
  ::selection {
    @apply bg-blue-200 text-gray-900;
  }

  /* Focus ring for better accessibility */
  *:focus-visible {
    @apply outline-none ring-2 ring-blue-600 ring-offset-2 rounded-sm;
  }

  /* Ensure minimum contrast for disabled elements */
  *:disabled {
    opacity: 0.6;
  }

  /* Dark mode support */
  @media (prefers-color-scheme: dark) {
    body {
      @apply bg-gray-900 text-gray-100;
    }

    h1, h2, h3, h4, h5, h6 {
      @apply text-gray-100;
    }

    a {
      @apply text-blue-400 decoration-blue-400/30 hover:decoration-blue-400;
    }

    input[type='text'],
    input[type='email'],
    input[type='password'],
    input[type='number'],
    input[type='tel'],
    input[type='url'],
    input[type='search'],
    input[type='date'],
    input[type='datetime-local'],
    input[type='month'],
    input[type='time'],
    input[type='week'],
    textarea,
    select {
      @apply bg-gray-800 border-gray-600 text-gray-100 placeholder-gray-400;
      @apply focus:border-blue-500 focus:ring-blue-500/20;
      @apply disabled:bg-gray-700 disabled:text-gray-500 disabled:border-gray-600;
    }

    label {
      @apply text-gray-100;
    }

    th {
      @apply text-gray-100 border-gray-600;
    }

    td {
      @apply text-gray-100 border-gray-700;
    }

    code {
      @apply bg-gray-800 text-gray-100;
    }

    pre {
      @apply bg-gray-800 text-gray-100;
    }

    blockquote {
      @apply border-gray-600 text-gray-300;
    }

    hr {
      @apply border-gray-600;
    }

    ::selection {
      @apply bg-blue-800 text-gray-100;
    }
  }
}

@layer components {
  /* Utility classes for common patterns */
  .btn-primary {
    @apply bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 focus:ring-blue-600;
  }

  .btn-secondary {
    @apply bg-gray-200 text-gray-900 px-4 py-2 rounded-md hover:bg-gray-300 focus:ring-gray-500;
  }

  .btn-outline {
    @apply border border-gray-400 text-gray-900 px-4 py-2 rounded-md hover:bg-gray-50 focus:ring-gray-500;
  }

  .text-high-contrast {
    @apply text-gray-900;
  }

  .text-medium-contrast {
    @apply text-gray-700;
  }

  .text-low-contrast {
    @apply text-gray-600;
  }

  @media (prefers-color-scheme: dark) {
    .btn-secondary {
      @apply bg-gray-700 text-gray-100 hover:bg-gray-600;
    }

    .btn-outline {
      @apply border-gray-600 text-gray-100 hover:bg-gray-800;
    }

    .text-high-contrast {
      @apply text-gray-100;
    }

    .text-medium-contrast {
      @apply text-gray-300;
    }

    .text-low-contrast {
      @apply text-gray-400;
    }
  }
}